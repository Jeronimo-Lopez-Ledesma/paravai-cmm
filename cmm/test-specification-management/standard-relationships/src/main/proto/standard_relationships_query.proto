syntax = "proto3";

package dekra.regulations.standardrelationships.v1;

option java_multiple_files = true;
option java_package = "com.paravai.regulations.standardrelationships.api.grpc.v1";

message ListRelationshipsByStandardIdRequest {
  string standard_id = 1;
  bool include_outgoing = 2; // from = standard_id
  bool include_incoming = 3; // to = standard_id
}

message StandardVersionRef {
  string standard_id = 1;
  string version_id = 2;
}

message StandardRelationship {
  string id = 1;

  StandardVersionRef from = 2;
  StandardVersionRef to = 3;

  string type_code = 4;
  string purpose_code = 5;

  string created_at = 6;
}

message RelationshipsResponse {
  repeated StandardRelationship relationships = 1;
}

service StandardRelationshipsQueryService {
  rpc ListRelationshipsByStandardId(ListRelationshipsByStandardIdRequest) returns (RelationshipsResponse);
}
