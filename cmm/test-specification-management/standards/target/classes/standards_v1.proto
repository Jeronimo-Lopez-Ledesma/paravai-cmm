syntax = "proto3";

package dekra.regulations.standards.v1;

option java_package = "com.dekra.service.regulations.standards.api.grpc.v1";
option java_multiple_files = true;
option java_outer_classname = "StandardsProto";

message ApplicabilityContext {
  string id = 1;
  string certification_scheme_id = 2;
  string effective_date = 3;        // ISO-8601 LocalDate (yyyy-MM-dd)
  optional string end_of_validity_date = 4;
  string created_at = 5;            // ISO-8601 Instant
}

message StandardVersion {
  string id = 1;
  string version = 2;
  string version_key = 3;
  string visibility = 4;
  string status_code = 5;
  optional string publication_date = 6;
  optional string description = 7;

  repeated ApplicabilityContext applicability_contexts = 8;
}

message Standard {
  string id = 1;
  string code = 2;
  string code_key = 3;
  string title = 4;
  optional string description = 5;

  string standard_type_code = 6;
  string issuing_body_organization_id = 7;

  string created_at = 8;
  string updated_at = 9;

  repeated StandardVersion versions = 10;
}